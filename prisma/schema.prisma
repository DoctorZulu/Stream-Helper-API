// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema
// TO HIT IMAGE URL https://www.themoviedb.org/t/p/w300_and_h450_bestv2/{FILE.JPG}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

//======== MODELS =============

// USERS
model User {
  id        Int                   @id @default(autoincrement())
  firstname String?
  lastname  String?
  username  String?               @unique
  email     String?               @unique
  password  String?
  movies    UserMovieConnection[]

}

model UserMovieConnection {
  id Int @id @default(autoincrement())
  movie Movie? @relation(fields: [movieId], references: [id])
  movieId Int? 
  user   User? @relation(fields: [userId], references: [id])
  userId Int?
  liked Boolean? @default(false)
  saved Boolean? @default(false)
  watched Boolean? @default(false)
}

model Movie {
  categoryId Int @id @default(autoincrement())
  id                Int @unique
  title             String?
  original_language String?
  release_date      String?
  vote_average      Float?
  image             String?
  overview          String?
  genres            Int?
  UsersMovies UserMovieConnection[]
}

// model Genre {
// id      Int     @id
//  name    String?
//  Movie   Movie?  @relation(fields: [movieId], references: [id])
//  movieId Int?
//}
